import React, {Component, useEffect} from 'react';
import {Container, VStack, Text, SimpleGrid} from "@chakra-ui/react";
// –ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
import {Link} from "react-router-dom";
// –ò–º–ø–æ—Ä—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
import {useProductStore} from "../store/product.js";
// –ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
import ProductCard from "../components/ProductCard";

const HomePage = () => {
  // –ü–æ–ª—É—á–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  const {fetchProducts, products} = useProductStore();

  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  useEffect(() => {
    fetchProducts(); // –í—ã–∑–æ–≤ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  }, [fetchProducts]); // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å - —Ñ—É–Ω–∫—Ü–∏—è fetchProducts

  // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
  console.log(products);

  return (
    // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏
    <Container
      maxW='container.xl' // –ú–∞–∫—Å —à–∏—Ä–∏–Ω–∞ - extra large
      py={12} // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π padding (top –∏ bottom)
    >
      {/* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–∫ –¥–ª—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–ª–æ–Ω–∫—É */}
      <VStack spacing={8}>
        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º */}
        <Text
          fontSize={"30"}
          fontWeight={"bold"}
          bgGradient={"linear(to-r, purple.400, purple.600)"}
          bgClip={"text"} // –û–±—Ä–µ–∑–∫–∞ —Ñ–æ–Ω–∞ –ø–æ —Ç–µ–∫—Å—Ç—É (—Å–æ–∑–¥–∞–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç)
          textAlign={"center"} // –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É
        >
          –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã
        </Text>

        {/* –°–µ—Ç–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ */}
        <SimpleGrid
          columns={{
            base: 1,   // 1 –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
            md: 2,     // 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ —Å—Ä–µ–¥–Ω–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
            lg: 3,     // 3 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
          }}
          spacing={10} // –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Å–µ—Ç–∫–∏
          w={"full"}
        >
          {/* –ú–∞–ø–ø–∏–Ω–≥ –º–∞—Å—Å–∏–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ProductCard */}
          {products.map((product) => (
            <ProductCard
              key={product._id} // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è React  ID
              product={product} // –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
            />
          ))}
        </SimpleGrid>

        {/* –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–µ—Ç */}
        {products.length === 0 && (
          <Text
            fontSize='xl'        // Extra large —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
            textAlign={"center"} // –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É
            fontWeight='bold'    // –ñ–∏—Ä–Ω–æ–µ –Ω–∞—á–µ—Ä—Ç–∞–Ω–∏–µ
            color='gray.500'     // –°–µ—Ä—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
          >
            –¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã üò¢{" "}
            {/* –°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ */}
            <Link to={"/create"}>
              <Text
                as='span' // –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∫–∞–∫ span —ç–ª–µ–º–µ–Ω—Ç
                color='purple.400'
                _hover={{textDecoration: "underline"}} // –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
              >
                –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
              </Text>
            </Link>
          </Text>
        )}
      </VStack>
    </Container>
  );
}

export default HomePage;